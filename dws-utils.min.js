var DealerCenter;(function(e){(function(t){(function(t){var o=function(){function o(){}return o.ensureNumericInput=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var r=function(e){var r,n=e.val();r=n.replace(/[^0-9\.]/g,"").trim(),r.indexOf(".")>=0&&(t?r.indexOf(".",r.indexOf(".")+1)>=0&&(r=r.substring(0,r.indexOf(".",r.indexOf(".")+1))):r=r.substring(0,r.indexOf(".")),"."==r[0]&&(r="0"+r)),""!==r&&i&&(r=o.formatWithSeparator(r)),e.val(r)},n=function(e){e.val(e.val().replace(",",""))};e.blur(function(e){r($(e.target))}),e.focus(function(e){n($(e.target))}),e.each(function(e,t){r($(t))})},o.formatWithSeparator=function(e){if(e.indexOf(".")>0){var t=Number(e).toFixed(2);return Number(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}return e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},o.setCookie=function(e,t,o,i){void 0===o&&(o=null),void 0===i&&(i=!1);var r=encodeURIComponent(t),n="https:"===window.location.protocol;if(i){var a="".concat(e,"=").concat(r,"; path=/; SameSite=Lax");n&&(a+="; Secure"),document.cookie=a}else{null===o&&(o=new Date,o.setMonth(o.getMonth()+1));a="".concat(e,"=").concat(r,"; expires=").concat(o.toUTCString(),"; path=/; SameSite=Lax");n&&(a+="; Secure"),document.cookie=a}},o.getCookie=function(e){for(var t=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var r=o[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t)){var n=r.substring(t.length,r.length);try{return decodeURIComponent(n)}catch(e){return n}}}return""},o.checkReferrer=function(e){var o=document.referrer;if(o.length>0){var i=o.substring(0,e.length);if(i!==e){var r=t.Utils.getCookie("dws_site_referrer");0==r.length||r.length}}},o.setIframeSrc=function(e,o,i){var r=t.Utils.getCookie("cid"),n=t.Utils.getCookie("sid"),a=t.Utils.getCookie("dws_site_referrer"),l=e.attr(o);r.length>0&&l.length>0&&(l=l+"&cid="+encodeURI(r)),n.length>0&&l.length>0&&(l=l+"&sid="+encodeURI(n)),a.length>0&&l.length>0&&(l=l+"&sr="+encodeURI(a)),e.attr(i,l)},o.adjustIframeHeight=function(){var e,t,o=window.addEventListener?"addEventListener":"attachEvent",i=window[o],r="attachEvent"===o?"onmessage":"message",n=$(".dws-secured-forms-in-vc .vc_tta-panel").not(".vc_active").find(".vc_tta-panel-body");n.addClass("dws_tta-panel-body"),$(document).on("click",".dws-secured-forms-in-vc .vc_tta-tab, .dws-secured-forms-in-vc .vc_pagination-item, .dws-secured-forms-in-vc .vc_tta-panel-title",function(){n.hasClass("dws_tta-panel-body")&&n.removeClass("dws_tta-panel-body")}),i(r,function(o){if(null!=o.data&&"string"==typeof o.data&&o.data.split("|").length>1&&"dwsresize"==o.data.split("|")[0]){e=o.data.split("|")[1],t=o.data.split("|")[2];for(var i=document.getElementsByClassName(e),r=0;r<i.length;r++)i[r].style.height=t+"px"}},!1)},o.loadVehiclesInComparisonList=function(e){void 0===e&&(e="dws-compare-vehicle");var o=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=t.Utils.getCookie(e),r=null;try{r=JSON.parse(i)}catch(e){}return null!==r&&o(r)||(r=[]),r},o.renderCompareVehicleQueryString=function(){var e="";return this.loadVehiclesInComparisonList().length>0&&(e=$.param({stock_numbers:this.loadVehiclesInComparisonList()})),e},o.saveVehiclesInComparisonList=function(e,o,i){void 0===o&&(o="dws-compare-vehicle"),void 0===i&&(i=!0),i&&(e=_.filter(e,function(e){return!!e})),t.Utils.setCookie(o,JSON.stringify(e))},o.renderTrackingScript=function(e){var t,o=this.buildVehicleImageUrl(e,640,480);"undefined"!=typeof DWS_TRACKING_SITE&&(t="&s="+encodeURIComponent(DWS_BLOG_ID)+"&dcid="+encodeURIComponent(DWS_DCID)+"&t=im&iid="+encodeURIComponent(e.VehicleInfoId)+"&ye="+encodeURIComponent(e.Year.toString())+"&ma="+encodeURIComponent(e.Make)+"&mo="+encodeURIComponent(e.Model)+"&sno="+encodeURIComponent(e.StockNumber)+"&vin="+encodeURIComponent(e.Vin)+"&tu="+encodeURIComponent(o),document.createElement("img").src=DWS_TRACKING_SITE+"/collect?r="+encodeURIComponent(document.referrer)+"&cb="+(new Date).getTime()+t)},o.initializeClickToCallTracking=function(){$(document).on("click",'a[href^="tel:"]',function(t){e.WebSite.Common.Utils.trackClickToCall($(this).attr("href")||"",$(this).text())})},o.trackClickToCall=function(e,t){try{var o=this.readOrAssignClientId(!1),i=this.ReadOrAssignSessionCookie(!1),r=decodeURIComponent(this.getCookie("dws-trs")),n=decodeURIComponent(this.getCookie("dws-ts-js")),a=decodeURIComponent(this.getCookie("dws_geo_ip")),l=null;if(""!=r)try{var s=JSON.parse(r);l=s.RF}catch(e){console.log("[Click-to-Call Tracker] Error parsing traffic source:",e)}var c=window.location.origin+window.location.pathname,d=null,m=null,u=null,f=null,h=null;if(n&&""!==n){var p=n.split("|");p.forEach(function(e){var t=e.split("=");if(2===t.length){var o=t[0],i=t[1];switch("(direct)"!==i&&"(none)"!==i&&"(not set)"!==i||(i=null),o){case"utmcsr":d=i;break;case"utmcmd":m=i;break;case"utmccn":u=i;break;case"utmcct":f=i;break;case"utmctr":h=i}}})}var g={eventTypeID:11,clickToCall:!0,session:{dcCompanyId:DWS_DCID,blogId:DWS_BLOG_ID,referer:l,ipAddress:a,applicantCid:o,applicantSid:i,landingUrl:c,sourceMedian:n,utmSource:d,utmMedium:m,utmCampaign:u,utmContent:f,utmTerm:h}};"undefined"!=typeof DWS_TRACKING_SITE&&$.ajax({url:DWS_TRACKING_SITE+"/collect/event",type:"POST",cache:!1,contentType:"application/json",dataType:"json",data:JSON.stringify(g),error:function(e,t,o){console.log("[Click-to-Call Tracker] Error: textStatus="+t+"|errorThrown="+o)}}),console.log("[Click-to-Call Tracker] Phone click tracked:",e,t)}catch(e){console.error("[Click-to-Call Tracker] Error tracking phone click:",e)}},o.renderPageViewTrackingScript=function(e){var t=this,o=function(){if("undefined"!=typeof DWS_TRACKING_SITE){var o=t.readOrAssignClientId(!0),i=t.ReadOrAssignSessionCookie(!0),r=decodeURIComponent(t.getCookie("dws-ts-js")),n="",a=7;if(r&&""!==r){var l=null,s=null,c=null,d=null,m=null,u=r.split("|");if(u.forEach(function(e){var t=e.split("=");if(2===t.length){var o=t[0],i=t[1];switch("(direct)"===i?i="direct":"(none)"!==i&&"(not set)"!==i||(i=null),o){case"utmcsr":l=i;break;case"utmcmd":s=i;break;case"utmccn":c=i;break;case"utmcct":d=i;break;case"utmctr":m=i}}}),s){var f=s.toLowerCase();if("organic"===f)a=1;else if("referral"===f)a=3;else if("cpc"===f||"ppc"===f||"paid-search"===f||"paidsearch"===f)a=4;else if("social"===f)if(l){var h=l.toLowerCase();a=h.includes("paid")||h.includes("ads")?6:5}else a=5;else a="email"===f||"direct"===f?2:7}else if(l){h=l.toLowerCase();a="organic"===h||"google"===h||"bing"===h||"yahoo"===h?1:"direct"===h?2:"referral"===h?3:7}var p=[];l&&p.push("&us="+encodeURIComponent(l)),s&&p.push("&um="+encodeURIComponent(s)),c&&p.push("&uc="+encodeURIComponent(c)),d&&p.push("&ut="+encodeURIComponent(d)),m&&p.push("&ur="+encodeURIComponent(m)),n=p.join("")}var g="",_=t.getCookie("dws_geo_ip"),v=t.getCookie("dws_geo_city"),w=t.getCookie("dws_geo_state"),C=[];_&&""!==_&&C.push("&gip="+encodeURIComponent(_)),v&&""!==v&&C.push("&gc="+encodeURIComponent(v)),w&&""!==w&&C.push("&gs="+encodeURIComponent(w)),g=C.join("");var I="&tsid="+a;console.log("[DWS Tracking] Executing page view tracking with geo data:",{geoIp:_,geoCity:v,geoState:w}),document.createElement("img").src=DWS_TRACKING_SITE+"/collect?r="+encodeURIComponent(document.referrer)+"&cb="+(new Date).getTime()+"&cid="+o+"&sid="+i+e+n+I+g}};"undefined"!=typeof window&&window.dwsGeoDataAvailable?o():"undefined"!=typeof window&&window.dwsGeoInitializing?(document.addEventListener("dwsGeoDataLoaded",function(e){console.log("[DWS Tracking] Geo data loaded event received, executing page view tracking"),o()},{once:!0}),setTimeout(function(){window.dwsGeoDataAvailable||(console.log("[DWS Tracking] Timeout waiting for geo data, executing tracking without geo data"),o())},5e3)):o()},o.readOrAssignClientId=function(e){void 0===e&&(e=!1);var t=this.generateUuid(!0),o=this.getCookie("cid");if(""!=o&&o!=t)return o;o=e?this.generateUuid(!1):t;var i=new Date;return i.setMonth(i.getMonth()+1),this.setCookie("cid",o,i),o},o.ReadOrAssignSessionCookie=function(e){var t,o,i=this.generateUuid(!0),r=i;t=o=new Date("0001-01-01T00:00:00Z").getTime();var n=this.getCookie("sidts"),a=Date.now().toString();return this.setCookie("sidts",a,null,!0),""!=n&&(t=new Date(parseInt(n)).getTime()),t!=o&&this.getMinutesBetweenDates(t,Date.now())<=30&&(r=this.getCookie("sid"),""!=r&&r!=i)?r:(r=e?this.generateUuid(!1):i,this.setCookie("sid",r,null,!0),r)},o.generateUuid=function(e){if(void 0===e&&(e=!1),e)return"00000000000000000000000000000000";var t=(new Date).getTime(),o=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(e){var i=16*Math.random();return t>0?(i=(t+i)%16|0,t=Math.floor(t/16)):(i=(o+i)%16|0,o=Math.floor(o/16)),("x"===e?i:3&i|8).toString(16)})},o.getMinutesBetweenDates=function(e,t){var o=t-e;return Math.round(o/6e4)},o.buildTrackingData=function(e){var t=this;if("undefined"!=typeof DWS_IS_CUSTOMIZE_PREVIEW&&!DWS_IS_CUSTOMIZE_PREVIEW){var o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};if(o(e)&&0!=e.length&&"undefined"!=typeof DWS_TRACKING_SITE){var i=e.map(function(e){var o=t.buildVehicleImageUrl(e,640,480);return{t:"im",iid:encodeURIComponent(e.VehicleInfoId),ye:encodeURIComponent(e.Year.toString()),ma:e.Make,mo:e.Model,sno:encodeURIComponent(e.StockNumber),vin:encodeURIComponent(e.Vin),tu:encodeURIComponent(o)}});0!=i.length&&this.postTrackingData(i)}}},o.postTrackingData=function(e){var t=this,o=function(){var o=t.readOrAssignClientId(!1),i=t.ReadOrAssignSessionCookie(!1),r=decodeURIComponent(t.getCookie("dws-ts-js")),n="",a=7;if(r&&""!==r){var l=null,s=null,c=null,d=null,m=null,u=r.split("|");if(u.forEach(function(e){var t=e.split("=");if(2===t.length){var o=t[0],i=t[1];switch("(direct)"===i?i="direct":"(none)"!==i&&"(not set)"!==i||(i=null),o){case"utmcsr":l=i;break;case"utmcmd":s=i;break;case"utmccn":c=i;break;case"utmcct":d=i;break;case"utmctr":m=i}}}),s){var f=s.toLowerCase();if("organic"===f)a=1;else if("referral"===f)a=3;else if("cpc"===f||"ppc"===f||"paid-search"===f||"paidsearch"===f)a=4;else if("social"===f)if(l){var h=l.toLowerCase();a=h.includes("paid")||h.includes("ads")?6:5}else a=5;else a="email"===f||"direct"===f?2:7}else if(l){h=l.toLowerCase();a="organic"===h||"google"===h||"bing"===h||"yahoo"===h?1:"direct"===h?2:"referral"===h?3:7}var p=[];l&&p.push("&us="+encodeURIComponent(l)),s&&p.push("&um="+encodeURIComponent(s)),c&&p.push("&uc="+encodeURIComponent(c)),d&&p.push("&ut="+encodeURIComponent(d)),m&&p.push("&ur="+encodeURIComponent(m)),n=p.join("")}var g="",_=t.getCookie("dws_geo_ip"),v=t.getCookie("dws_geo_city"),w=t.getCookie("dws_geo_state"),C=[];_&&""!==_&&C.push("&gip="+encodeURIComponent(_)),v&&""!==v&&C.push("&gc="+encodeURIComponent(v)),w&&""!==w&&C.push("&gs="+encodeURIComponent(w)),g=C.join("");var I="&tsid="+a;console.log("[DWS Tracking] Executing POST tracking with geo data:",{geoIp:_,geoCity:v,geoState:w}),$.ajax({url:DWS_TRACKING_SITE+"/collect/post?r="+encodeURIComponent(document.referrer)+"&cb="+(new Date).getTime()+"&s="+encodeURIComponent(DWS_BLOG_ID)+"&dcid="+encodeURIComponent(DWS_DCID)+"&cid="+o+"&sid="+i+n+I+g,type:"POST",data:JSON.stringify(e),headers:{Accept:"image/webp,image/apng,image/*,*/*;q=0.8","Content-Type":"application/json"},error:function(e,t,o){console.log("[DWS Tracking] Error: textStatus="+t+"|errorThrown="+o)}})};"undefined"!=typeof window&&window.dwsGeoDataAvailable?o():"undefined"!=typeof window&&window.dwsGeoInitializing?(document.addEventListener("dwsGeoDataLoaded",function(e){console.log("[DWS Tracking] Geo data loaded event received, executing POST tracking"),o()},{once:!0}),setTimeout(function(){window.dwsGeoDataAvailable||(console.log("[DWS Tracking] Timeout waiting for geo data, executing POST tracking without geo data"),o())},5e3)):o()},o.buildVehicleImageUrl=function(e,t,o){var i;return i=null!==e.VehicleImages&&e.VehicleImages.length>0?DWS_CONST_INV_IMAGE_URL.replace("{CompanyId}",e.CompanyId).replace("{DocumentId}",e.VehicleImages[0].DocumentId).replace("{width}",t.toString()).replace("{height}",o.toString()):DWS_CONST_INV_IMAGE_NA_URL,i},o.buildVehicleDetailPageUrlPath=function(e){var t="";if("object"==typeof e&&"Make"in e&&"Model"in e&&"StockNumber"in e&&null!==e.Make&&null!==e.Model&&null!==e.StockNumber&&""!==e.Make&&""!==e.Model&&""!==e.StockNumber){var o=e.Make.toLowerCase(),i=e.Model.toLowerCase(),r=e.StockNumber.toLowerCase();o=s.slugify(o),i=s.slugify(i),DWS_USE_DCID_URL&&"DCId"in e&&null!==e.DCId&&""!==e.DCId&&(r=e.DCId+"-"+r),t=encodeURIComponent(o)+"/"+encodeURIComponent(i)+"/"+encodeURIComponent(r)+"/"}else t=DWS_USE_DCID_URL?"/{{SlugMake}}/{{SlugModel}}/{{DCId}}-{{StockNumber}}/":"/{{SlugMake}}/{{SlugModel}}/{{StockNumber}}/";return t},o.buildVehicleImageUrlIndex=function(e,t,o,i){var r;return null!==e.VehicleImages&&e.VehicleImages.length,r=null!==e.VehicleImages[i]?DWS_CONST_INV_IMAGE_URL.replace("{CompanyId}",e.CompanyId).replace("{DocumentId}",e.VehicleImages[i].DocumentId).replace("{width}",t.toString()).replace("{height}",o.toString()):DWS_CONST_INV_IMAGE_NA_URL,r},o.buildVehicleImageFileName=function(e,t){var o;return void 0===t&&(t=0),o=null!==e.VehicleImages&&e.VehicleImages.length>0?void 0!==e.VehicleImages[t].FileName&&null!==e.VehicleImages[t].FileName?e.VehicleImages[t].FileName:"-":DWS_CONST_INV_IMAGE_NA_FILENAME,o},o.removeBadgesVehicleItem=function(e,t){switch(e.VehicleClass){case 1:"toyota"!=e.Make.toLowerCase()&&"scion"!=e.Make.toLowerCase()&&t.find(".dws-vehicle-care").remove(),t.find(".dws-vehicle-3").remove(),t.find(".dws-vehicle-maintenance").remove(),t.find(".dws-vehicle-carfax").remove(),t.find(".dws-vehicle-realdeal").remove(),t.find(".dws-vehicle-2").remove();break;case 2:"toyota"!=e.Make.toLowerCase()&&"scion"!=e.Make.toLowerCase()&&t.find(".dws-vehicle-maintenance").remove(),t.find(".dws-vehicle-3").remove(),t.find(".dws-vehicle-1").remove(),t.find(".dws-vehicle-care").remove();break;case 3:t.find(".dws-vehicle-1").remove(),t.find(".dws-vehicle-care").remove(),t.find(".dws-vehicle-2").remove(),t.find(".dws-vehicle-maintenance").remove();break;default:t.find(".dws-vehicle-class").remove()}return t},o.populateVehicleListPanel=function(t,o,i,r){$(".fa",r).attr("data-checkbox-stockno",t+""+o.StockNumber);var n=$(".dws-compare-vehicle-list-panel ul");if(n.length<=0)return console.log("Compare vehicle list panel widget is not used proceed with default behavior of compare check box"),!0;if(i.length>=4)return console.log("Up to 4 vehicles only for comparison"),!1;if(i.length>0&&n.children().length<=0)return console.log("wait for AJAX call to finish"),!1;var a,l=$("<li></li>").addClass("compared-vehicle");a=e.WebSite.Common.Utils.buildVehicleImageUrl(o,640,480);var s=$("<div></div>").css({"background-image":"url("+a+")"}).addClass("vehicle-compared-image");l.append(s),l.append($("<p></p>").text(o.Year+" "+o.Make+" "+o.Model));var c=$("<span></span>").addClass("close remove-compared-vehicle fa fa-times").attr("data-stockno",t+""+o.StockNumber);return l.append(c),n.append(l),!0},o.createQueryParameterVehicleDetailUrl=function(e,t,o,i,r){var n;return n=""==e?"/vehicle-detail/?vehicle_year="+t+"&make="+o+"&model="+i+"&stock_number="+r:e+"/?vehicle_year="+t+"&make="+o+"&model="+i+"&stock_number="+r,n},o.wrapEmpty=function(e){return void 0===e&&(e=null),"undefined"===e||null===e||"null"===e||""===e.trim()?"":_.escape(e)},o.replaceSpacesWithDash=function(e,t){return t?e?(e=e.replace(/ /g,"-"),e.toLowerCase()):"":encodeURIComponent(e).toLowerCase()},o.formatNumberByThousand=function(e){var t="",o=parseInt(e.replace(",",""));if(o>999){var i=o/1e3;t=i.toFixed(1)+"k"}else t=e.toString();return t},o.parse_url=function(){var e=document.location.href.replace(/([?&])page_no=([^&]+)&?/,"$1").replace(/[?&]$/,""),t=e,o="";if(e.indexOf("?")>0){var i=e.split("?");t=i[0],o=i[1]}return{fullPath:t,query:o}},o.getCrossedOutPrice=function(e){var t="";return e.VehiclePrice>0&&e.AskingPrice>0&&e.AskingPrice>e.VehiclePrice&&(t="$"+this.formatWithSeparator(e.AskingPrice.toString())),t},o.getSavingPrice=function(e){var t="";if(e.VehiclePrice>0&&e.AskingPrice>0&&e.AskingPrice>e.VehiclePrice){var o=e.AskingPrice-e.VehiclePrice;t="$"+this.formatWithSeparator(o.toString())}return t},o.convertVehicleClass=function(e,t){void 0===e&&(e="numtochar");var o="";switch(e){case"numtostring":"1"==t?o="New":"2"==t&&(o="Used"),"3"==t&&(o="Certified");break;case"chartostring":"n"==t?o="New":"u"==t&&(o="Used"),"c"==t&&(o="Certified");break;case"numtochar":default:"1"==t?o="n":"2"==t&&(o="u"),"3"==t&&(o="c")}return o},o.translateVehicleCustomMarkup=function(t,o){var i,r,n=o;return r=e.WebSite.Common.Utils.buildVehicleImageFileName(t),i=null!==t.VehiclePrice&&t.VehiclePrice>0?"$"+e.WebSite.Common.Utils.formatWithSeparator(t.VehiclePrice.toString()):"Call for price",n=o.replace(/{{Year}}/g,e.WebSite.Common.Utils.wrapEmpty(t.Year+"")).replace(/{{Make}}/g,e.WebSite.Common.Utils.wrapEmpty(t.Make+"")).replace(/{{Model}}/g,e.WebSite.Common.Utils.wrapEmpty(t.Model+"")).replace(/{{Trim}}/g,e.WebSite.Common.Utils.wrapEmpty(t.Trim+"")).replace(/{{ImageFileName}}/g,r).replace(/{{Mileage}}/g,e.WebSite.Common.Utils.wrapEmpty(e.WebSite.Common.Utils.formatWithSeparator((t.Odometer||"")+""))).replace(/{{VehiclePrice}}/g,i),n},o.renderViewSwitchButtonInVlpModal=function(e,t){var o=e.clone();o.addClass("dws-in-modal-view").removeClass("dws-in-vlp-listing"),t.find(".dws-modal-switch-controls").empty(),t.find(".dws-modal-switch-controls").append(o)},o.setActiveMarkerForVlpThumbnailCarousel=function(e,t){e.find("#carousel-inner-default-images-modal-thumbnail .dws-thumbnail-images-for-vlp-modal").removeClass("currently-viewed-in-carousel"),e.find("#carousel-inner-default-images-modal-thumbnail div[data-vehicle-count-update='"+t+"']").addClass("currently-viewed-in-carousel")},o.findKeyOfSelectedIconToDisplayInVlp=function(e,t){var o="";for(var i in t)if(t.hasOwnProperty(i)){if(t[i]==e){o=i;break}o="imageIcon"}return o},o.retrieveVideoSourceFromVideoUrl=function(e,t){var o="",i="";if(""!=e){var r=/(?:http?s?:\/\/)?(?:www\.)?(?:vimeo\.com)\/?(.+)/g,n=/(?:http?s?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?(.+)/g;r.test(e)?(o="$1",o=e.replace(r,o),i="vimeo"):n.test(e)&&(o="$1",o=e.replace(n,o),i="youtube")}var a="";switch(t){case"video-source":a=i;break;case"video-id":default:a=o}return a},o.retrieveVideoIdFromVideoUrl=function(e){return""},o.initializeHorizontalStickyFilter=function(e){var t=0,o=$("#wpadminbar").length>0?$("#wpadminbar").height():0,i=0;$(document).ready(function(){e.hasClass("dws-horizontal-fixed-layout")&&e.hasClass("dws_vlp_filter_popup_tablet")&&$(window).width()>=751&&$(window).width()<=1199&&($(".dws-vehicle-listing-widget").addClass("dws-popup-filter-show-tablet"),e.addClass("hidden-sm hidden-md"),$(".dws-vehicle-listing-filter-btn").hasClass("visible-sm-inline-block")||$(".dws-vehicle-listing-filter-btn").addClass("visible-sm-inline-block"),$(".dws-vehicle-listing-filter-btn").hasClass("visible-md-inline-block")||$(".dws-vehicle-listing-filter-btn").addClass("visible-md-inline-block"))}),$(window).on("resize",function(){e.hasClass("dws-horizontal-fixed-layout")&&e.hasClass("dws_vlp_filter_popup_tablet")&&($(window).width()>=751&&$(window).width()<=1199?($(".dws-vehicle-listing-widget").addClass("dws-popup-filter-show-tablet"),e.addClass("hidden-sm hidden-md"),$(".dws-vehicle-listing-filter-btn").hasClass("visible-sm-inline-block")||$(".dws-vehicle-listing-filter-btn").addClass("visible-sm-inline-block"),$(".dws-vehicle-listing-filter-btn").hasClass("visible-md-inline-block")||$(".dws-vehicle-listing-filter-btn").addClass("visible-md-inline-block")):($(".dws-vehicle-listing-widget").removeClass("dws-popup-filter-show-tablet"),e.removeClass("hidden-sm hidden-md"),$(".dws-vehicle-listing-filter-btn").removeClass("visible-sm-inline-block visible-md-inline-block")))}),$(window).scroll(function(){e.hasClass("dws-horizontal-sticky-filter")||(t=e.offset().top),$(window).scrollTop()>t?e.hasClass("dws-horizontal-sticky-filter")||(e.addClass("dws-horizontal-sticky-filter"),$(".dws-listing-filter .dws-filter-label").length>0?$(".dws-horizontal-sticky-filter").append($(".dws-listing-filter .dws-filter-label").clone().addClass("dws-sticky-filter-label")):$(".dws-vehicle-listing-remove-filter").length>0&&$(".dws-horizontal-sticky-filter").append($(".dws-vehicle-listing-remove-filter").clone().addClass("dws-sticky-filter-label")),$(".dws-advheadfoot-sticky-header-on").length>0?i=$(".dws-advheadfoot-sticky-header-on").height():$("#DWSMainNavBar.dws-fixed-menu").length>0?($("#DWSMainNavBar").children(".dws-layout-2-menu-holder").length>0&&(o=0),i=$("#DWSMainNavBar").height()):$("#wpmm-wrap-primary_menu.navbar-fixed-top").length>0&&(o=0,i=$("#wpmm-wrap-primary_menu.navbar-fixed-top").height()),e.animate({top:i+o+"px"},300)):e.hasClass("dws-horizontal-sticky-filter")&&(e.css("top","0").removeClass("dws-horizontal-sticky-filter"),e.find(".dws-sticky-filter-label").remove())})},o.initializeVerticalStickyFilter=function(e){var t=$("#wpadminbar").length>0?$("#wpadminbar").height():0,o=$(".dws-vertical-fixed-layout > div.vc_column-inner"),i=0,r=0,n=0,a=0,l=0,s=0,c=0,d=0;$(window).scroll(function(){if(r=$(document).height(),n=$(window).height()+$(window).scrollTop(),a=$("#DWSFooterArea").height(),l=r-a,i=o.outerWidth(),d=$("#DWSFooterArea").hasClass("dws-with-compare-vehicle")?$("#dws-with-compare-bar").outerHeight(!0):0,o.hasClass("dws-vertical-sticky-filter")||(s=o.offset().top),$(window).scrollTop()>s)if($(".dws-advheadfoot-sticky-header-on").length>0?c=$(".dws-advheadfoot-sticky-header-on").height():$("#DWSMainNavBar.dws-fixed-menu").length>0?($("#DWSMainNavBar").children(".dws-layout-2-menu-holder").length>0&&(t=0),c=$("#DWSMainNavBar").height()):$("#wpmm-wrap-primary_menu.navbar-fixed-top").length>0&&(t=0,c=$("#wpmm-wrap-primary_menu.navbar-fixed-top").height()),o.hasClass("dws-vertical-sticky-filter")||o.addClass("dws-vertical-sticky-filter").css({height:"calc(100% - "+(c+t)+"px)",width:i+"px"}).animate({top:c+t+"px"},200),n>l){var e=a-(r-n);o.css({height:"calc(100% - "+(c+e+d+t)+"px)"})}else o.css({height:"calc(100% - "+(c+d+t)+"px)"});else o.hasClass("dws-vertical-sticky-filter")&&o.css({height:"auto",width:"100%",top:"0"}).removeClass("dws-vertical-sticky-filter")})},o.renderWindowStickerTrackingScript=function(t,o){var i="winstkr";if("undefined"!=typeof DWS_TRACKING_SITE){var r=e.WebSite.Common.Utils.readOrAssignClientId(!1),n=e.WebSite.Common.Utils.ReadOrAssignSessionCookie(!1);$.ajax({url:DWS_TRACKING_SITE+"/collect",type:"GET",cache:!1,data:{t:i,n:"",r:document.referrer,cb:(new Date).getTime(),s:DWS_BLOG_ID,dcid:DWS_DCID,sno:t,vin:o,cid:r,sid:n},headers:{Accept:"image/webp,image/apng,image/*,*/*;q=0.8"},error:function(e,t,o){console.log("[Player Event Tracker] Error: textStatus="+t+"|errorThrown="+o)}})}},o.getVehicleVinToShow=function(t){var o=e.WebSite.Common.Utils.wrapEmpty(t.Vin);return 1==DWS_ENABLE_REQUEST_VIN&&(o=DWS_REQUEST_VIN_LABEL),o},o.renderRequestVinMarkup=function(t,o,i){var r=e.WebSite.Common.Utils.getVehicleVinToShow(t),n=r;if(1==DWS_ENABLE_REQUEST_VIN){var a=o.hasExtraDcid?"&dcid="+encodeURIComponent(t.DCId):"",l=void 0!==o.iframeAtts.iframe_url&&null!==o.iframeAtts.iframe_url&&""!=o.iframeAtts.iframe_url?o.iframeAtts.iframe_url:"",s=void 0!==t.DCId&&null!==t.DCId&&""!=t.DCId?encodeURIComponent(t.DCId):DWS_DCID,c=void 0!==t.StockNumber&&null!==t.StockNumber&&""!=t.StockNumber?encodeURIComponent(t.StockNumber):"",d=void 0!==o.iframeAtts.form_text_color&&null!==o.iframeAtts.form_text_color&&""!=o.iframeAtts.form_text_color?encodeURIComponent(o.iframeAtts.form_text_color):"",m=void 0!==o.iframeAtts.query_params_theme_color&&null!==o.iframeAtts.query_params_theme_color&&""!=o.iframeAtts.query_params_theme_color?encodeURIComponent(o.iframeAtts.query_params_theme_color):"",u=void 0!==o.iframeAtts.form_title_color&&null!==o.iframeAtts.form_title_color&&""!=o.iframeAtts.form_title_color?encodeURIComponent(o.iframeAtts.form_title_color):"",f=void 0!==o.iframeAtts.form_field_label_color&&null!==o.iframeAtts.form_field_label_color&&""!=o.iframeAtts.form_field_label_color?encodeURIComponent(o.iframeAtts.form_field_label_color):"",h=window.location.origin+i,p=l+"/RequestVin/index/"+s+"/?stocknumber="+c+"&frameborder=0&textcolor="+d+"&themecolor="+m+"&titlecolor="+u+"&vdpUrl="+h+"&frameId=dws_listing_modal&fieldlabelcolor="+f+a,g=void 0!==o.requestVinLinkLabel&&null!==o.requestVinLinkLabel&&""!=o.requestVinLinkLabel?o.requestVinLinkLabel:"Request VIN";n='<a href="javascript:void(0);" aria-label="Request VIN number of '+t.Year+" "+t.Make+" "+t.Model+'" class="dws-iframe-pop-up-button dws-request-vin-button" data-dws-iframe="'+p+'" data-dws-secured-url="" data-dws-redirect="" data-dws-title="'+g+'"  title="'+g+'">'+g+"</a>"}return n},o.getVehicleMileageToShow=function(t,o){var i=e.WebSite.Common.Utils.wrapEmpty(e.WebSite.Common.Utils.formatWithSeparator((t.Odometer||"")+""));return 1==DWS_ENABLE_REQUEST_MILEAGE&&DWS_REQUEST_MILEAGE_THRESHOLD<=t.Odometer&&(i=DWS_REQUEST_MILEAGE_LABEL),i},o.renderRequestMileageMarkup=function(t,o,i){var r=e.WebSite.Common.Utils.getVehicleMileageToShow(t,o),n=r;if(1==DWS_ENABLE_REQUEST_MILEAGE&&DWS_REQUEST_MILEAGE_THRESHOLD<=t.Odometer){var a=o.hasExtraDcid?"&dcid="+encodeURIComponent(t.DCId):"",l=void 0!==o.iframeAtts.iframe_url&&null!==o.iframeAtts.iframe_url&&""!=o.iframeAtts.iframe_url?o.iframeAtts.iframe_url:"",s=void 0!==t.DCId&&null!==t.DCId&&""!=t.DCId?encodeURIComponent(t.DCId):DWS_DCID,c=void 0!==t.StockNumber&&null!==t.StockNumber&&""!=t.StockNumber?encodeURIComponent(t.StockNumber):"",d=void 0!==o.iframeAtts.form_text_color&&null!==o.iframeAtts.form_text_color&&""!=o.iframeAtts.form_text_color?encodeURIComponent(o.iframeAtts.form_text_color):"",m=void 0!==o.iframeAtts.query_params_theme_color&&null!==o.iframeAtts.query_params_theme_color&&""!=o.iframeAtts.query_params_theme_color?encodeURIComponent(o.iframeAtts.query_params_theme_color):"",u=void 0!==o.iframeAtts.form_title_color&&null!==o.iframeAtts.form_title_color&&""!=o.iframeAtts.form_title_color?encodeURIComponent(o.iframeAtts.form_title_color):"",f=void 0!==o.iframeAtts.form_field_label_color&&null!==o.iframeAtts.form_field_label_color&&""!=o.iframeAtts.form_field_label_color?encodeURIComponent(o.iframeAtts.form_field_label_color):"",h=window.location.origin+i,p=l+"/RequestMileage/index/"+s+"/?stocknumber="+c+"&frameborder=0&textcolor="+d+"&themecolor="+m+"&titlecolor="+u+"&vdpUrl="+h+"&frameId=dws_listing_modal&fieldlabelcolor="+f+a;n='<span aria-label="Request Mileage of '+t.Year+" "+t.Make+" "+t.Model+'" class="dws-iframe-pop-up-button dws-request-mileage-button" data-dws-iframe="'+p+'" data-dws-secured-url="" data-dws-redirect="" data-dws-title="'+r+'"  title="'+r+'">'+r+"</span>"}return n},o.getVehicleRequestPriceToShow=function(e){var t=e;return 1==DWS_ENABLE_REQUEST_PRICE&&(t=DWS_REQUEST_PRICE_LABEL),t},o.renderRequestPriceMarkup=function(t,o,i,r){var n=e.WebSite.Common.Utils.getVehicleRequestPriceToShow(t),a=n;if(1==DWS_ENABLE_REQUEST_PRICE){var l=i.hasExtraDcid?"&dcid="+encodeURIComponent(o.DCId):"",s=void 0!==i.iframeAtts.iframe_url&&null!==i.iframeAtts.iframe_url&&""!=i.iframeAtts.iframe_url?i.iframeAtts.iframe_url:"",c=void 0!==o.DCId&&null!==o.DCId&&""!=o.DCId?encodeURIComponent(o.DCId):DWS_DCID,d=void 0!==o.StockNumber&&null!==o.StockNumber&&""!=o.StockNumber?encodeURIComponent(o.StockNumber):"",m=void 0!==i.iframeAtts.form_text_color&&null!==i.iframeAtts.form_text_color&&""!=i.iframeAtts.form_text_color?encodeURIComponent(i.iframeAtts.form_text_color):"",u=void 0!==i.iframeAtts.query_params_theme_color&&null!==i.iframeAtts.query_params_theme_color&&""!=i.iframeAtts.query_params_theme_color?encodeURIComponent(i.iframeAtts.query_params_theme_color):"",f=void 0!==i.iframeAtts.form_title_color&&null!==i.iframeAtts.form_title_color&&""!=i.iframeAtts.form_title_color?encodeURIComponent(i.iframeAtts.form_title_color):"",h=void 0!==i.iframeAtts.form_field_label_color&&null!==i.iframeAtts.form_field_label_color&&""!=i.iframeAtts.form_field_label_color?encodeURIComponent(i.iframeAtts.form_field_label_color):"",p=window.location.origin+r,g=s+"/RequestPrice/index/"+c+"/?stocknumber="+d+"&frameborder=0&textcolor="+m+"&themecolor="+u+"&titlecolor="+f+"&vdpUrl="+p+"&frameId=dws_listing_modal&fieldlabelcolor="+h+l;a='<span aria-label="Request Price of '+o.Year+" "+o.Make+" "+o.Model+'" class="dws-iframe-pop-up-button dws-request-price-button" data-dws-iframe="'+g+'" data-dws-secured-url="" data-dws-redirect="" data-dws-title="'+n+'"  title="'+n+'">'+n+"</span>"}return a},o.processVehicleOrder=function(t,o,i){if(void 0===i&&(i=!1),i)return t;for(var r=e.WebSite.Common.Utils.loadVehiclesInComparisonList("dws-recent-vehicles"),n=[],a=0,l=r;a<l.length;a++)for(var s=l[a],c=0,d=t;c<d.length;c++){var m=d[c],u=m,f=void 0!==u.DCId&&u.DCId.length>0?u.DCId+"-":"",h=f+u.StockNumber;r.indexOf(u.StockNumber)>=0?s==u.StockNumber&&n.push(u):r.indexOf(u.VehicleInfoId)>=0?s==u.VehicleInfoId&&n.push(u):r.indexOf(h)>=0&&s==h&&n.push(u)}return o<=0||o>=n.length?n:(o=n.length-o,n.slice(o))},o.renderVehicleHistoryFormAnchorTag=function(e,t,o,i){var r=o;if(1==DWS_ENABLE_CAPTURE_LEAD_VEHICLE_REPORT){var n=t.hasExtraDcid?"&dcid="+encodeURIComponent(e.DCId):"",a=void 0!==t.iframeAtts.iframe_url&&null!==t.iframeAtts.iframe_url&&""!=t.iframeAtts.iframe_url?t.iframeAtts.iframe_url:"",l=void 0!==e.DCId&&null!==e.DCId&&""!=e.DCId?encodeURIComponent(e.DCId):DWS_DCID,s=void 0!==e.StockNumber&&null!==e.StockNumber&&""!=e.StockNumber?encodeURIComponent(e.StockNumber):"",c=void 0!==t.iframeAtts.form_text_color&&null!==t.iframeAtts.form_text_color&&""!=t.iframeAtts.form_text_color?encodeURIComponent(t.iframeAtts.form_text_color):"",d=void 0!==t.iframeAtts.query_params_theme_color&&null!==t.iframeAtts.query_params_theme_color&&""!=t.iframeAtts.query_params_theme_color?encodeURIComponent(t.iframeAtts.query_params_theme_color):"",m=void 0!==t.iframeAtts.form_title_color&&null!==t.iframeAtts.form_title_color&&""!=t.iframeAtts.form_title_color?encodeURIComponent(t.iframeAtts.form_title_color):"",u=void 0!==t.iframeAtts.form_field_label_color&&null!==t.iframeAtts.form_field_label_color&&""!=t.iframeAtts.form_field_label_color?encodeURIComponent(t.iframeAtts.form_field_label_color):"",f=e.PublishReportTypeOnWebsite,h=a+"/HistoryReport/index/"+l+"/?stocknumber="+s+"&frameborder=0&textcolor="+c+"&themecolor="+d+"&titlecolor="+m+"&custom_ty_url="+encodeURIComponent(i)+"&frameId=dws_listing_modal&fieldlabelcolor="+u+n,p="HISTORY REPORT";2==f?p="AUTOCHECK HISTORY REPORT":3==f&&(p="CARFAX HISTORY REPORT"),r='<a class="dws-iframe-pop-up-button dws-vehicle-history-form-button" data-dws-iframe="'+h+'" data-dws-secured-url="" data-dws-redirect="'+i+'" data-dws-title="'+p+'"  title="'+p+'">'}return r},o.adjustFlickFusionIframeHeight=function(e){var t=window.document.cloneNode(!0),o=t.addEventListener?"addEventListener":"attachEvent",i=t[o],r="attachEvent"===o?"onmessage":"message";i(r,function(t){try{if(null==t.data)return;var o=JSON.parse(t.data),i=parseInt($("."+e).css("height"),10);o.height>i&&$("."+e).css("height",o.height+30)}catch(e){return}},!1)},o.getInventoryStatusLabel=function(e){var t="";switch(e.Status){case 1:t="Sold";break;case 2:t="Unwound";break;case 3:t="Pending";break;case 5:t="Appraisal";break;case 6:t="Trade-in";break;case 8:t="Inbound";break;case 9:t="In Recon";break;case 0:default:t="In Inventory"}return t},o}();t.Utils=o})(t.Common||(t.Common={}))})(e.WebSite||(e.WebSite={}))})(DealerCenter||(DealerCenter={}));